<?xml version="1.0" encoding="utf-8"?>
<Project>
  <!--
    BetterVanilla.Ui XAML-like Generation System
    Default properties for BVUI code generation.
  -->

  <PropertyGroup>
    <!-- Enable BVUI generation by default -->
    <EnableBvuiGeneration Condition="'$(EnableBvuiGeneration)' == ''">true</EnableBvuiGeneration>

    <!-- Path to the BVUI generator tool -->
    <BvuiGeneratorPath Condition="'$(BvuiGeneratorPath)' == ''">$(MSBuildThisFileDirectory)..\Tools\BetterVanilla.Ui.XamlGenerator\bin\$(Configuration)\net8.0\BetterVanilla.Ui.XamlGenerator.dll</BvuiGeneratorPath>

    <!-- Default aliases file -->
    <BvuiAliasesFile Condition="'$(BvuiAliasesFile)' == ''">$(MSBuildProjectDirectory)\ui-aliases.json</BvuiAliasesFile>

    <!-- Output directory for generated files (in project folder, not obj) -->
    <BvuiGeneratedOutputPath Condition="'$(BvuiGeneratedOutputPath)' == ''">$(MSBuildProjectDirectory)\BvuiGenerated</BvuiGeneratedOutputPath>

    <!-- Verbose output -->
    <BvuiVerbose Condition="'$(BvuiVerbose)' == ''">false</BvuiVerbose>
  </PropertyGroup>

  <!-- Define the BvuiFile item type -->
  <ItemGroup>
    <!-- Auto-include all .bvui.xml files -->
    <BvuiFile Include="**\*.bvui.xml" Exclude="$(BaseIntermediateOutputPath)**;$(BaseOutputPath)**;Tools\**" />
  </ItemGroup>

  <!-- Mark BVUI files as None in the project (not compiled) -->
  <ItemGroup>
    <None Include="@(BvuiFile)" />
  </ItemGroup>

  <!-- Exclude generated files from default SDK globbing (we add them explicitly) -->
  <ItemGroup>
    <Compile Remove="$(BvuiGeneratedOutputPath)\**\*.cs" />
    <Compile Remove="BvuiGenerated\**\*.cs" />
  </ItemGroup>

</Project>
